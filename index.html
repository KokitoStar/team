<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Kokito</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: url('motivos/FONDO.png') center center;
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
        }

        .system-overlay {
            background: rgba(0, 0, 0, 0.8);
            min-height: 100vh;
        }

        .login-background {
            background: url('motivos/FONDO.png') center center;
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
        }

        .debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Iconos simples usando texto/emojis
        const Icons = {
            User: () => <span className="text-xl">üë§</span>,
            UserPlus: () => <span className="text-xl">üë•</span>,
            Package: () => <span className="text-xl">üì¶</span>,
            TrendingUp: () => <span className="text-xl">üìà</span>,
            LogOut: () => <span className="text-xl">üö™</span>,
            Settings: () => <span className="text-xl">‚öôÔ∏è</span>,
            Eye: () => <span className="text-lg">üëÅÔ∏è</span>,
            EyeOff: () => <span className="text-lg">üôà</span>,
            Edit: () => <span className="text-lg">‚úèÔ∏è</span>,
            Save: () => <span className="text-lg">üíæ</span>,
            Cancel: () => <span className="text-lg">‚ùå</span>
        };

        const KokitoSystem = () => {
          // Funci√≥n para cargar usuarios del localStorage
          const loadUsers = () => {
            try {
              const savedUsers = localStorage.getItem('kokito_users');
              if (savedUsers) {
                const parsedUsers = JSON.parse(savedUsers);
                console.log('Usuarios cargados desde localStorage:', parsedUsers);
                return parsedUsers;
              }
            } catch (error) {
              console.error('Error cargando usuarios:', error);
            }
            // Usuarios por defecto si no hay datos guardados
            const defaultUsers = [
              {
                id: 1,
                username: 'estebango001@gmail.com',
                password: '8357565Jj.',
                role: 'admin',
                name: 'Esteban G√≥mez',
                phone: '3218526763',
                active: true
              }
            ];
            console.log('Usando usuarios por defecto:', defaultUsers);
            return defaultUsers;
          };

          // Funci√≥n para guardar usuarios en localStorage
          const saveUsers = (usersList) => {
            try {
              localStorage.setItem('kokito_users', JSON.stringify(usersList));
              console.log('Usuarios guardados en localStorage:', usersList);
            } catch (error) {
              console.error('Error guardando usuarios:', error);
            }
          };

          // Estados principales
          const [currentUser, setCurrentUser] = useState(null);
          const [showPassword, setShowPassword] = useState(false);
          const [loginForm, setLoginForm] = useState({ username: '', password: '' });
          const [users, setUsers] = useState(() => loadUsers());
          const [debugMode, setDebugMode] = useState(false);
          
          // useEffect para guardar usuarios cuando cambien
          useEffect(() => {
            if (users.length > 0) {
              saveUsers(users);
              console.log('useEffect: Usuarios actualizados y guardados');
            }
          }, [users]);

          // Estado para crear nuevo usuario
          const [newUser, setNewUser] = useState({
            username: '',
            password: '',
            name: '',
            phone: ''
          });
          
          const [showCreateForm, setShowCreateForm] = useState(false);
          const [loginError, setLoginError] = useState('');
          const [editingUser, setEditingUser] = useState(null);

          // Funci√≥n de login CORREGIDA - sin case sensitivity
          const handleLogin = () => {
            if (!loginForm.username || !loginForm.password) {
              setLoginError('Por favor ingresa usuario y contrase√±a');
              return;
            }
            
            console.log('üîê Intentando login con:', {
              username: loginForm.username,
              password: '***'
            });
            console.log('üë• Usuarios disponibles:', users.map(u => ({
              id: u.id,
              username: u.username,
              active: u.active,
              role: u.role
            })));
            
            // CORRECCI√ìN: Comparaci√≥n sin case sensitivity para username
            const user = users.find(u => 
              u.username.toLowerCase() === loginForm.username.toLowerCase() && 
              u.password === loginForm.password &&
              u.active
            );
            
            console.log('üéØ Usuario encontrado:', user ? {
              id: user.id,
              username: user.username,
              name: user.name,
              role: user.role
            } : 'NINGUNO');
            
            if (user) {
              setCurrentUser(user);
              setLoginError('');
              setLoginForm({ username: '', password: '' });
              console.log('‚úÖ Login exitoso para:', user.name);
            } else {
              const errorMsg = 'Usuario o contrase√±a incorrectos, o usuario desactivado';
              setLoginError(errorMsg);
              console.log('‚ùå Login fallido:', errorMsg);
            }
          };

          // Funci√≥n de logout
          const handleLogout = () => {
            console.log('üö™ Cerrando sesi√≥n de:', currentUser?.name);
            setCurrentUser(null);
            setLoginForm({ username: '', password: '' });
            setLoginError('');
          };

          // Funci√≥n para crear usuario MEJORADA
          const handleCreateUser = () => {
            if (!newUser.username || !newUser.password || !newUser.name || !newUser.phone) {
              alert('Por favor completa todos los campos');
              return;
            }
            
            // CORRECCI√ìN: Verificar username sin case sensitivity
            if (users.find(u => u.username.toLowerCase() === newUser.username.toLowerCase())) {
              alert('Este nombre de usuario ya existe');
              return;
            }
            
            if (newUser.password.length < 6) {
              alert('La contrase√±a debe tener al menos 6 caracteres');
              return;
            }
            
            const userToAdd = {
              id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,
              username: newUser.username.toLowerCase(), // CORRECCI√ìN: Guardar en min√∫sculas
              password: newUser.password,
              role: 'user',
              name: newUser.name,
              phone: newUser.phone,
              active: true
            };
            
            console.log('‚ûï Creando nuevo usuario:', userToAdd);
            
            // CORRECCI√ìN: Usar funci√≥n de callback para asegurar actualizaci√≥n
            setUsers(prevUsers => {
              const newUsersList = [...prevUsers, userToAdd];
              console.log('üìù Lista actualizada de usuarios:', newUsersList);
              return newUsersList;
            });
            
            setNewUser({ username: '', password: '', name: '', phone: '' });
            setShowCreateForm(false);
            
            // Mostrar credenciales al administrador
            alert(`‚úÖ Usuario creado exitosamente!

üìß Usuario: ${userToAdd.username}
üîë Contrase√±a: ${userToAdd.password}
üë§ Nombre: ${userToAdd.name}
üì± Tel√©fono: ${userToAdd.phone}

‚ö†Ô∏è IMPORTANTE: Comparte estas credenciales con el colaborador de forma segura.`);
          };

          // Funci√≥n para eliminar usuario
          const handleDeleteUser = (userId) => {
            if (userId === 1) {
              alert('No puedes eliminar al administrador principal');
              return;
            }
            
            if (window.confirm('¬øEst√°s seguro de eliminar este usuario?')) {
              setUsers(prevUsers => {
                const updatedUsers = prevUsers.filter(u => u.id !== userId);
                console.log('üóëÔ∏è Usuario eliminado. Nueva lista:', updatedUsers);
                return updatedUsers;
              });
            }
          };

          // Funci√≥n para activar/desactivar usuario
          const toggleUserStatus = (userId) => {
            if (userId === 1) {
              alert('No puedes desactivar al administrador principal');
              return;
            }
            
            setUsers(prevUsers => {
              const updatedUsers = prevUsers.map(user => 
                user.id === userId 
                  ? { ...user, active: !user.active }
                  : user
              );
              console.log('üîÑ Estado de usuario cambiado:', updatedUsers);
              return updatedUsers;
            });
          };

          // Funci√≥n para editar usuario
          const startEditUser = (user) => {
            setEditingUser({...user, newPassword: ''});
          };

          const saveEditUser = () => {
            if (!editingUser.name || !editingUser.phone || !editingUser.username) {
              alert('Por favor completa todos los campos obligatorios');
              return;
            }

            if (editingUser.newPassword && editingUser.newPassword.length < 6) {
              alert('La contrase√±a debe tener al menos 6 caracteres');
              return;
            }

            const existingUser = users.find(u => 
              u.username.toLowerCase() === editingUser.username.toLowerCase() && 
              u.id !== editingUser.id
            );
            if (existingUser) {
              alert('Este nombre de usuario ya existe');
              return;
            }

            const updatedUser = {
              ...editingUser,
              username: editingUser.username.toLowerCase(), // CORRECCI√ìN: Guardar en min√∫sculas
              password: editingUser.newPassword || editingUser.password
            };
            delete updatedUser.newPassword;

            setUsers(prevUsers => {
              const updatedUsers = prevUsers.map(user => 
                user.id === editingUser.id ? updatedUser : user
              );
              console.log('‚úèÔ∏è Usuario editado:', updatedUsers);
              return updatedUsers;
            });
            
            // Si el usuario actual est√° siendo editado, actualizar tambi√©n currentUser
            if (currentUser && currentUser.id === editingUser.id) {
              setCurrentUser(updatedUser);
            }
            
            setEditingUser(null);
            alert('Usuario actualizado exitosamente');
          };

          const cancelEdit = () => {
            setEditingUser(null);
          };

          // Funci√≥n para limpiar localStorage (para debugging)
          const clearStorage = () => {
            if (window.confirm('¬øEst√°s seguro de que quieres limpiar todos los datos?')) {
              localStorage.removeItem('kokito_users');
              setUsers(loadUsers());
              alert('Datos limpiados. Se han restaurado los usuarios por defecto.');
            }
          };

          // Pantalla de Login
          if (!currentUser) {
            return (
              <div className="login-background">
                <div className="min-h-screen flex flex-col items-center justify-center p-4" style={{background: 'rgba(0, 0, 0, 0.8)'}}>
                  {/* Panel de debug (solo visible en modo debug) */}
                  {debugMode && (
                    <div className="debug-panel">
                      <div><strong>üêõ DEBUG MODE</strong></div>
                      <div>Total usuarios: {users.length}</div>
                      <div>Usuarios activos: {users.filter(u => u.active).length}</div>
                      <button 
                        onClick={clearStorage}
                        className="bg-red-600 text-white px-2 py-1 rounded text-xs mt-2"
                      >
                        Limpiar Storage
                      </button>
                    </div>
                  )}

                  {/* Logo Section */}
                  <div className="mb-8">
                    <div className="w-80 h-40 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg flex items-center justify-center mb-4">
                      <img 
                        src="motivos/LOGO_KOKITO.png" 
                        alt="KOKITO" 
                        className="w-72 h-36 object-contain"
                        onError={(e) => {
                          e.target.style.display = 'none';
                          e.target.nextSibling.style.display = 'block';
                        }}
                      />
                      <span className="text-white text-4xl font-bold" style={{display: 'none'}}>KOKITO</span>
                    </div>
                  </div>

                  {/* Login Form */}
                  <div className="bg-gray-900 p-8 rounded-lg border-2 border-pink-600 w-full max-w-md">
                    <h2 className="text-white text-2xl font-bold text-center mb-6">
                      Sistema Kokito
                    </h2>
                    
                    <div className="space-y-4">
                      <div>
                        <label className="block text-white text-sm font-medium mb-2">
                          Usuario
                        </label>
                        <input
                          type="text"
                          value={loginForm.username}
                          onChange={(e) => setLoginForm({...loginForm, username: e.target.value})}
                          className="w-full p-3 bg-black border-2 border-pink-600 rounded-lg text-white focus:outline-none focus:border-purple-500"
                          placeholder="Ingresa tu usuario"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-white text-sm font-medium mb-2">
                          Contrase√±a
                        </label>
                        <div className="relative">
                          <input
                            type={showPassword ? "text" : "password"}
                            value={loginForm.password}
                            onChange={(e) => setLoginForm({...loginForm, password: e.target.value})}
                            onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                            className="w-full p-3 bg-black border-2 border-pink-600 rounded-lg text-white focus:outline-none focus:border-purple-500 pr-12"
                            placeholder="Ingresa tu contrase√±a"
                          />
                          <button
                            type="button"
                            onClick={() => setShowPassword(!showPassword)}
                            className="absolute right-3 top-3 text-gray-400 hover:text-white"
                          >
                            {showPassword ? <Icons.EyeOff /> : <Icons.Eye />}
                          </button>
                        </div>
                      </div>
                      
                      {loginError && (
                        <div className="text-red-400 text-sm text-center bg-red-900/20 p-2 rounded">
                          {loginError}
                        </div>
                      )}
                      
                      <button
                        onClick={handleLogin}
                        className="w-full bg-gradient-to-r from-pink-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:from-pink-700 hover:to-purple-700 transition-all duration-300"
                      >
                        Iniciar Sesi√≥n
                      </button>

                      {/* Bot√≥n de debug */}
                      <button
                        onClick={() => setDebugMode(!debugMode)}
                        className="w-full bg-gray-700 text-white py-2 rounded-lg text-sm"
                      >
                        {debugMode ? 'Ocultar Debug' : 'Mostrar Debug'}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // Panel de Administrador
          if (currentUser.role === 'admin') {
            return (
              <div className="system-overlay">
                <div className="min-h-screen text-white">
                  {/* Header */}
                  <header className="bg-gray-900 border-b-2 border-pink-600 p-4">
                    <div className="max-w-6xl mx-auto flex justify-between items-center">
                      <div className="flex items-center space-x-4">
                        <div className="w-12 h-12 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg flex items-center justify-center">
                          <span className="text-white font-bold text-sm">K</span>
                        </div>
                        <div>
                          <h1 className="text-xl font-bold">Panel de Administraci√≥n</h1>
                          <p className="text-gray-400 text-sm">Bienvenido, {currentUser.name}</p>
                        </div>
                      </div>
                      
                      <div className="flex items-center space-x-4">
                        <button
                          onClick={() => setDebugMode(!debugMode)}
                          className="bg-gray-600 hover:bg-gray-700 px-3 py-2 rounded-lg text-sm"
                        >
                          Debug
                        </button>
                        <button
                          onClick={handleLogout}
                          className="flex items-center space-x-2 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors"
                        >
                          <Icons.LogOut />
                          <span>Cerrar Sesi√≥n</span>
                        </button>
                      </div>
                    </div>
                  </header>

                  {/* Panel de debug para admin */}
                  {debugMode && (
                    <div className="bg-yellow-900 border-l-4 border-yellow-500 p-4 m-4">
                      <h4 className="font-bold">üêõ Informaci√≥n de Debug</h4>
                      <div className="text-sm mt-2">
                        <div>Total usuarios en memoria: {users.length}</div>
                        <div>Usuarios en localStorage: {localStorage.getItem('kokito_users') ? JSON.parse(localStorage.getItem('kokito_users')).length : 0}</div>
                        <button 
                          onClick={clearStorage}
                          className="bg-red-600 text-white px-3 py-1 rounded mt-2"
                        >
                          Resetear Sistema
                        </button>
                      </div>
                    </div>
                  )}

                  <div className="max-w-6xl mx-auto p-6">
                    {/* Estad√≠sticas */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                      <div className="bg-gray-900 border-2 border-pink-600 rounded-lg p-6">
                        <div className="flex items-center justify-between">
                          <div>
                            <p className="text-gray-400 text-sm">Total Usuarios</p>
                            <p className="text-2xl font-bold">{users.filter(u => u.role === 'user').length}</p>
                          </div>
                          <div className="text-pink-600 text-3xl">
                            <Icons.User />
                          </div>
                        </div>
                      </div>
                      
                      <div className="bg-gray-900 border-2 border-purple-600 rounded-lg p-6">
                        <div className="flex items-center justify-between">
                          <div>
                            <p className="text-gray-400 text-sm">Usuarios Activos</p>
                            <p className="text-2xl font-bold">{users.filter(u => u.active).length}</p>
                          </div>
                          <div className="text-purple-600 text-3xl">
                            <Icons.Settings />
                          </div>
                        </div>
                      </div>
                      
                      <div className="bg-gray-900 border-2 border-blue-600 rounded-lg p-6">
                        <div className="flex items-center justify-between">
                          <div>
                            <p className="text-gray-400 text-sm">Total Sistema</p>
                            <p className="text-2xl font-bold">{users.length}</p>
                          </div>
                          <div className="text-blue-600 text-3xl">
                            <Icons.UserPlus />
                          </div>
                        </div>
                      </div>
                    </div>

                    {/* Bot√≥n Crear Usuario */}
                    <div className="mb-6">
                      <button
                        onClick={() => setShowCreateForm(!showCreateForm)}
                        className="bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-pink-700 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2"
                      >
                        <Icons.UserPlus />
                        <span>Crear Nuevo Usuario</span>
                      </button>
                    </div>

                    {/* Formulario Crear Usuario */}
                    {showCreateForm && (
                      <div className="bg-gray-900 border-2 border-pink-600 rounded-lg p-6 mb-8">
                        <h3 className="text-xl font-bold mb-4">Crear Nuevo Colaborador</h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <div>
                            <label className="block text-sm font-medium mb-2">Nombre Completo</label>
                            <input
                              type="text"
                              value={newUser.name}
                              onChange={(e) => setNewUser({...newUser, name: e.target.value})}
                              className="w-full p-3 bg-black border-2 border-gray-600 rounded-lg text-white focus:outline-none focus:border-pink-600"
                              placeholder="Ej: Juan P√©rez"
                            />
                          </div>
                          
                          <div>
                            <label className="block text-sm font-medium mb-2">Tel√©fono</label>
                            <input
                              type="tel"
                              value={newUser.phone}
                              onChange={(e) => setNewUser({...newUser, phone: e.target.value})}
                              className="w-full p-3 bg-black border-2 border-gray-600 rounded-lg text-white focus:outline-none focus:border-pink-600"
                              placeholder="Ej: 3001234567"
                            />
                          </div>
                          
                          <div>
                            <label className="block text-sm font-medium mb-2">Usuario (Email)</label>
                            <input
                              type="email"
                              value={newUser.username}
                              onChange={(e) => setNewUser({...newUser, username: e.target.value})}
                              className="w-full p-3 bg-black border-2 border-gray-600 rounded-lg text-white focus:outline-none focus:border-pink-600"
                              placeholder="Ej: correo@ejemplo.com"
                            />
                          </div>
                          
                          <div>
                            <label className="block text-sm font-medium mb-2">Contrase√±a</label>
                            <input
                              type="password"
                              value={newUser.password}
                              onChange={(e) => setNewUser({...newUser, password: e.target.value})}
                              className="w-full p-3 bg-black border-2 border-gray-600 rounded-lg text-white focus:outline-none focus:border-pink-600"
                              placeholder="M√≠nimo 6 caracteres"
                            />
                          </div>
                          
                          <div className="md:col-span-2 flex space-x-4">
                            <button
                              onClick={handleCreateUser}
                              className="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                            >
                              Crear Usuario
                            </button>
                            <button
                              onClick={() => setShowCreateForm(false)}
                              className="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
                            >
                              Cancelar
                            </button>
                          </div>
                        </div>
                      </div>
                    )}

                    {/* Lista de Usuarios */}
                    <div className="bg-gray-900 border-2 border-pink-600 rounded-lg overflow-hidden">
                      <div className="bg-pink-600 p-4">
                        <h3 className="text-xl font-bold">Usuarios del Sistema</h3>
                      </div>
                      
                      <div className="p-6">
                        <div className="space-y-4">
                          {users.map(user => (
                            <div key={user.id} className="bg-black border border-gray-700 rounded-lg p-4">
                              {editingUser && editingUser.id === user.id ? (
                                // Modo edici√≥n
                                <div className="space-y-4">
                                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm font-medium mb-2">Nombre</label>
                                      <input
                                        type="text"
                                        value={editingUser.name}
                                        onChange={(e) => setEditingUser({...editingUser, name: e.target.value})}
                                        className="w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm font-medium mb-2">Tel√©fono</label>
                                      <input
                                        type="tel"
                                        value={editingUser.phone}
                                        onChange={(e) => setEditingUser({...editingUser, phone: e.target.value})}
                                        className="w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm font-medium mb-2">Usuario</label>
                                      <input
                                        type="text"
                                        value={editingUser.username}
                                        onChange={(e) => setEditingUser({...editingUser, username: e.target.value})}
                                        className="w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm font-medium mb-2">Nueva Contrase√±a (opcional)</label>
                                      <input
                                        type="password"
                                        value={editingUser.newPassword || ''}
                                        onChange={(e) => setEditingUser({...editingUser, newPassword: e.target.value})}
                                        className="w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"
                                        placeholder="Dejar vac√≠o para mantener actual"
                                      />
                                    </div>
                                  </div>
                                  <div className="flex space-x-2">
                                    <button
                                      onClick={saveEditUser}
                                      className="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2"
                                    >
                                      <Icons.Save />
                                      <span>Guardar</span>
                                    </button>
                                    <button
                                      onClick={cancelEdit}
                                      className="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2"
                                    >
                                      <Icons.Cancel />
                                      <span>Cancelar</span>
                                    </button>
                                  </div>
                                </div>
                              ) : (
                                // Modo visualizaci√≥n
                                <div className="flex justify-between items-center">
                                  <div className="flex items-center space-x-4">
                                    <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${
                                      user.role === 'admin' ? 'bg-red-600' : user.active ? 'bg-blue-600' : 'bg-gray-600'
                                    }`}>
                                      {user.name.charAt(0).toUpperCase()}
                                    </div>
                                    <div>
                                      <h4 className="font-medium">{user.name}</h4>
                                      <p className="text-gray-400 text-sm">Usuario: {user.username}</p>
                                      <p className="text-gray-400 text-sm">Tel√©fono: {user.phone}</p>
                                      <div className="flex items-center space-x-2">
                                        <span className={`inline-block px-2 py-1 rounded text-xs ${
                                          user.role === 'admin' ? 'bg-red-600' : 'bg-blue-600'
                                        } text-white`}>
                                          {user.role === 'admin' ? 'Administrador' : 'Colaborador'}
                                        </span>
                                        <span className={`inline-block px-2 py-1 rounded text-xs ${
                                          user.active ? 'bg-green-600' : 'bg-red-600'
                                        } text-white`}>
                                          {user.active ? 'Activo' : 'Inactivo'}
                                        </span>
                                      </div>
                                    </div>
                                  </div>
                                  
                                  <div className="flex space-x-2 flex-wrap">
                                    <button
                                      onClick={() => startEditUser(user)}
                                      className="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg transition-colors flex items-center space-x-1"
                                    >
                                      <Icons.Edit />
                                      <span>Editar</span>
                                    </button>
                                    
                                    {user.role !== 'admin' && (
                                      <>
                                        <button
                                          onClick={() => toggleUserStatus(user.id)}
                                          className={`${user.active ? 'bg-orange-600 hover:bg-orange-700' : 'bg-green-600 hover:bg-green-700'} text-white px-3 py-2 rounded-lg transition-colors`}
                                        >
                                          {user.active ? 'Desactivar' : 'Activar'}
                                        </button>
                                        
                                        <button
                                          onClick={() => handleDeleteUser(user.id)}
                                          className="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg transition-colors"
                                        >
                                          Eliminar
                                        </button>
                                      </>
                                    )}
                                  </div>
                                </div>
                              )}
                            </div>
                          ))}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // Panel de Usuario Regular
          return (
            <div className="system-overlay">
              <div className="min-h-screen text-white">
                {/* Header */}
                <header className="bg-gray-900 border-b-2 border-pink-600 p-4">
                  <div className="max-w-4xl mx-auto flex justify-between items-center">
                    <div className="flex items-center space-x-4">
                      <div className="w-12 h-12 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg flex items-center justify-center">
                        <span className="text-white font-bold text-sm">K</span>
                      </div>
                      <div>
                        <h1 className="text-xl font-bold">Sistema Kokito</h1>
                        <p className="text-gray-400 text-sm">Bienvenido, {currentUser.name}</p>
                      </div>
                    </div>
                    
                    <button
                      onClick={handleLogout}
                      className="flex items-center space-x-2 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors"
                    >
                      <Icons.LogOut />
                      <span>Cerrar Sesi√≥n</span>
                    </button>
                  </div>
                </header>

                <div className="max-w-4xl mx-auto p-6">
                  {/* Informaci√≥n del Usuario */}
                  <div className="bg-gray-900 border-2 border-pink-600 rounded-lg p-6 mb-8">
                    <h2 className="text-xl font-bold mb-4">Mi Informaci√≥n</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <p className="text-gray-400 text-sm">Nombre</p>
                        <p className="text-lg font-medium">{currentUser.name}</p>
                      </div>
                      <div>
                        <p className="text-gray-400 text-sm">Tel√©fono</p>
                        <p className="text-lg font-medium">{currentUser.phone}</p>
                      </div>
                      <div>
                        <p className="text-gray-400 text-sm">Usuario</p>
                        <p className="text-lg font-medium">{currentUser.username}</p>
                      </div>
                      <div>
                        <p className="text-gray-400 text-sm">Estado</p>
                        <span className="inline-block px-3 py-1 rounded-full text-sm bg-green-600 text-white">
                          Activo
                        </span>
                      </div>
                    </div>
                  </div>

                  {/* Botones de Acci√≥n */}
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {/* Solicitud de Inventario */}
                    <div 
                      onClick={() => window.location.href = 'pedidos.html'}
                      className="bg-gray-900 border-2 border-blue-600 rounded-lg p-8 text-center hover:bg-gray-800 transition-colors cursor-pointer"
                    >
                      <div className="text-blue-600 text-6xl mb-4 flex justify-center">
                        <Icons.Package />
                      </div>
                      <h3 className="text-xl font-bold mb-2">Solicitud de Inventario</h3>
                      <p className="text-gray-400 mb-4">Realiza solicitudes de productos e inventario</p>
                      <div className="bg-blue-600/20 text-blue-400 px-4 py-2 rounded-lg text-sm">
                        Hacer solicitud
                      </div>
                    </div>

                    {/* Ventas del D√≠a */}
                    <div className="bg-gray-900 border-2 border-green-600 rounded-lg p-8 text-center hover:bg-gray-800 transition-colors cursor-pointer">
                      <div className="text-green-600 text-6xl mb-4 flex justify-center">
                        <Icons.TrendingUp />
                      </div>
                      <h3 className="text-xl font-bold mb-2">Ventas del D√≠a</h3>
                      <p className="text-gray-400 mb-4">Registra y consulta las ventas diarias</p>
                      <div className="bg-green-600/20 text-green-400 px-4 py-2 rounded-lg text-sm">
                        Pr√≥ximamente disponible
                      </div>
                    </div>
                  </div>

                  {/* Informaci√≥n Adicional */}
                  <div className="mt-8 bg-gradient-to-r from-pink-600/20 to-purple-600/20 border border-pink-600 rounded-lg p-6">
                    <h4 className="font-bold mb-2">üìã Informaci√≥n Importante</h4>
                    <ul className="text-sm text-gray-300 space-y-1">
                      <li>‚Ä¢ Tus datos est√°n pre-configurados para solicitudes r√°pidas</li>
                      <li>‚Ä¢ Las funciones se activar√°n pr√≥ximamente seg√∫n configuraci√≥n</li>
                      <li>‚Ä¢ Contacta al administrador para soporte t√©cnico</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // Renderizar la aplicaci√≥n
        ReactDOM.render(React.createElement(KokitoSystem), document.getElementById('root'));
    </script>
</body>
</html>
